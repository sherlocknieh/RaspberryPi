<!DOCTYPE html>
<html>
    <head>
        <title>摄像监控</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/common.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/camera.css') }}">
    </head>
    <body>
        <div class="container">
            <h1>摄像监控</h1>
            <p>此页面用于查看摄像头实时画面和控制摄像头功能。</p>
            
            <div class="camera-feed">
                <img id="camera-stream" src="/video_feed" alt="摄像头画面加载中...">
            </div>
            
            <div class="camera-controls">
                <button id="capture-btn">拍照</button>
                <button id="record-btn">录像</button>
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <a href="/" class="back-btn">返回主页</a>
            </div>
        </div>
        
        <footer>
            &copy; 2023 树莓派控制系统 | 实验室项目
        </footer>
        <script>
            window.addEventListener('beforeunload', function() {
                // 页面离开时可选：发送请求通知后端释放（此处仅依赖后端检测）
                console.log("离开页面");
            });
            
            // 摄像头功能实现的占位脚本
            document.getElementById('capture-btn').addEventListener('click', function() {
                alert('拍照功能将在后端实现');
            });
            
            document.getElementById('record-btn').addEventListener('click', function() {
                this.textContent = this.textContent === '录像' ? '停止录像' : '录像';
                alert('录像功能将在后端实现');
            });
        </script>
    </body>
</html>